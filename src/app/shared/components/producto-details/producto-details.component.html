<div *ngIf="producto; else noProducto">
  <div class="flex flex-col md:flex-row p-6">
    <!-- Imagen del producto a la izquierda (o arriba en pantallas pequeñas) -->
    <img
      *ngIf="producto.coverPath"
      [src]="producto.coverPath"
      [alt]="producto.name"
      class="w-full md:w-1/3 h-72 object-cover rounded-xl mb-6 md:mb-0 md:mr-6"
    />

    <div class="flex flex-col w-full md:w-2/3">
      <h2 class="text-3xl font-semibold text-gray-800 mb-4">{{ producto.name }}</h2>
      <p class="text-sm text-gray-500 mb-2">Código: {{ producto.code_reference }}</p>

      <div class="mt-2">
        <!-- Descripción del producto -->
        <p class="text-gray-700 mb-4">Impuesto: {{ producto.tax_rate | currency }}</p>

        <!-- Precio del producto -->
        <p *ngIf="producto.price" class="text-lg font-semibold text-blue-600 mt-2">
          Precio: {{ producto.price | currency }}
        </p>

        <p *ngIf="producto.unit_measure_id">
          Unidad de Medida: {{ getNombreUnidadMedida(producto.unit_measure_id) }}
        </p>
        
        
        <!-- Descuento, si existe -->
        <p *ngIf="producto.discount_rate > 0" class="text-sm text-red-500">
          Descuento: {{ producto.discount_rate | currency }}
        </p>
        

        <!-- Última actualización -->
        <p *ngIf="producto.updatedAt" class="text-sm text-red-500">
          Última actualización: {{ producto.updatedAt | date: 'dd/MM/yyyy' }}
        </p>
      </div>

      <div class="mt-6 flex gap-4">
        <!-- Botón para agregar al carrito (solo visible para clientes autenticados) -->
        <button
          *ngIf="isAuthenticated && isCustomer"
          (click)="addToCart()"
          class="bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-300"
        >
          Agregar al carrito
        </button>

        <!-- Botón para regresar a la tienda -->
        <button
          (click)="goBackToStore()"
          class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-3 px-6 rounded-lg transition duration-300"
        >
          Regresar a Home
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Mensaje en caso de no encontrar el producto -->
<ng-template #noProducto>
  <p class="text-center text-gray-600 mt-4">No se encontró el producto</p>
</ng-template>
